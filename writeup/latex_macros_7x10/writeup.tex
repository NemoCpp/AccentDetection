%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%                                                                                                                                                                                                           %%%
%%%   NOTE!!!!!!!!!!!!!!! If you get some compile error that refers to a runaway argument, just remove writeup.aux and compile again!  %%%
%%%                                                                                                                                                                                                            %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%                                             %%%%%%%%
%%%%%%%%          The commands I        %%%%%%%%
%%%%%%%%      remembered to keep      %%%%%%%%
%%%%%%%%               track of                  %%%%%%%%
%%%%%%%%                                             %%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% HCopy  -A  -D  -C analysis.conf  -S testlist.txt

% HInit -A -T 1 -S hinit_trainlist.txt -M model/hmm0 -H model/proto/hmm_security_english -l security_english -L data/train/lab security_english

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm1 -H model/hmm0/hmm_security_english -l security_english -L data/train/lab security_english

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm4 -H model/hmm3/hmm_security_english -l security_english -L data/train/lab security_english

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm1 -H model/hmm0/hmm_security_spanish -l security_spanish -L data/train/lab security_spanish

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm2 -H model/hmm1/hmm_security_spanish -l security_spanish -L data/train/lab security_spanish

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm3 -H model/hmm2/hmm_security_spanish -l security_spanish -L data/train/lab security_spanish

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm4 -H model/hmm3/hmm_security_spanish -l security_spanish -L data/train/lab security_spanish

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm1 -H model/hmm0/hmm_sil -l sil -L data/train/lab sil

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm2 -H model/hmm1/hmm_sil -l sil -L data/train/lab sil

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm3 -H model/hmm2/hmm_sil -l sil -L data/train/lab sil

% HRest -A -T 1 -S hinit_trainlist.txt -M model/hmm4 -H model/hmm3/hmm_sil -l sil -L data/train/lab sil

% HVite -A -D -T 1  -H hmmsdef.mmf  -i reco.mlf  -w net.slf  dict.txt  hmmlist.txt  data/test/mfcc/input.mfcc

%%%%%%%%%%%%%%
%% Run LaTeX on this file several times to get Table of Contents,
%% cross-references, and citations.

%%%%%%%%%%%%%
% 7x10
\documentclass{wileySev}

\usepackage{graphicx}

\usepackage{hyperref}
\usepackage{color}% http://ctan.org/pkg/{hyperref,xcolor}

\definecolor{greenish}{RGB}{64, 177, 98}
\definecolor{orangish}{RGB}{253, 178, 71}
\definecolor{dark_greenish}{RGB}{10, 100, 37}
\definecolor{bluish}{RGB}{39, 64, 112}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=bluish,          % color of internal links (change box color with linkbordercolor)
    citecolor=orangish,        % color of links to bibliography
    urlcolor=dark_greenish           % color of external links
}

% For PostScript text
\usepackage{w-bookps}

\setcounter{secnumdepth}{3}

\setcounter{tocdepth}{2}

\newcommand{\VT}[1]{\ensuremath{{V_{T#1}}}}

\newbox\sectsavebox
\setbox\sectsavebox=\hbox{\boldmath\VT{xyz}}

\usepackage{multicol}
\newenvironment{myitemize}{%
\begin{itemize}
\begin{multicols}{2}
}{%
\end{multicols}
\end{itemize}
}

\begin{document}

\offprintinfo{Probabilistic Accent Detection Using HMMs}{Calhoun, Parker, Vaslas, and Vera}

\booktitle{Spoken Language Accent Detection}
\subtitle{Probabilistic Accent Detection Using Hidden Markov Models}

\authors{Tr\'e Calhoun\\
La Vesha Parker\\
Andrew Vaslas\\
Nicolas Vera\\
\affil{Cornell University}
}

\titlepage
\tableofcontents


\begin{preface}
All information presented within this document represents our exploration of the HTK software. We make no guarantee of things things things

\end{preface}

\begin{introduction}
% Discuss our motivation, etc.
This is the introduction.
This is the introduction.
This is the introduction.
This is the introduction.
This is the introduction.
This is the introduction.


\end{introduction}


\part[HTK Software Suite]
{Hidden Markov Model\\Toolkit Software Suite}

\chapter{Installation of HTK Software}
\section{General Installation information}
The website for HTK can be found \href{http://htk.eng.cam.ac.uk/}{here}. The HTK developers require that you \href{http://htk.eng.cam.ac.uk/register.shtml}{register for a username and password} through their site before downloading their software. After registering, visit the \href{http://htk.eng.cam.ac.uk/download.shtml}{downloads} page and download the HTK source code (available as a tarball). It is also useful to download the HTKBook as a PDF (available on the downloads page below the software). If you do not wish to download the book, you can \href{http://htk.eng.cam.ac.uk/docs/docs.shtml}{view the book online} after registering.

\section{Mac OS X}
In order to install HTK for Mac OS X, you first need to make sure that you have Xcode developer tools and X11 installed.

What follows are the installation instructions taken \textit{directly from the README in the root directory of the unziped htk/ directory}, save a bit of formatting. We do not claim this work, and repeat it here only for convenience.\\

\subsubsection{Compiling \& Installing HTK under UNIX/Linux, OS X or Cygwin}~\\

After unpacking the sources, cd to the htk directory.\\

There are now two ways to install HTK, the "traditional" and the
"new".  Up to now HTK has always installed its tools as they were
built, and installed them to a directory such as "bin.linux" so that
binaries for different architectures can be installed in a home
directory say.  If you want to install in this way, please add the
option "--enable-trad-htk" when you run configure.\\

The "new" method installs by default into /usr/local/bin (equivalent
to a configure option of "--prefix=/usr/local").\\

\begin{enumerate}
	\item decide which of the above methods you wish to use
	\item cd to htk, then run ./configure (with appropriate options, run "./configure --help" if unsure).
   If you don't want to build the programs in HLMTools add the
   --disable-hlmtools option.
	\item make all
	\item make install
\end{enumerate}

Running "make install" will install them.  This step may need to be
done as root, if you are not installing them in your home directory.\\

Notes for particular Unix variants:\\
Solaris: if "make" isn't installed you may need to add /opt/sfw/bin
and /usr/ccs/bin to your path and run "./configure MAKE=gmake" with
any other options you require.  Then run "gmake" instead of "make",
alternatively you can create a symbolic link called "make" somewhere
it your path to /opt/sfw/bin/gmake

\section{Windows}
% Tre and Nicolas: I remember you two had to install additional software while you tried to get HTK to work. When you get it fully installed on your machines, please list all the additional software you used
% And also explain how/where to get it! (links like those I put in "General Installation Information" section would be useful here)
Once again, what follows are the installation instructions taken \textit{directly from the README in the root directory of the unziped htk/ directory}, save a bit of formatting. We do not claim this work, and repeat it here only for convenience.\\
\subsubsection{Compiling \& Installing HTK under Windows}~\\

\textbf{Prerequisites:}
\begin{itemize}
	\item HTK has been verified to compile using Microsoft Visual Studio.
	\item For testing, you will require a Perl interpreter such as ActivePerl. 
	\item You will need a tool such as 7-zip or winzip (commercial) for unpacking the HTK source code archive.
	\item It it is helpful if you have some familiarity with using the DOS command line interface, as you will need to interact with it in order to compile, install and run HTK.
	\item Ensure that your PATH contains:
		\begin{verbatim}
		C:\Program Files\Microsoft Visual Studio .NET 2003\Vc7\bin
		\end{verbatim}
		Or if you are using older versions:
		\begin{verbatim}
		C:\Program Files\Microsoft Visual Studio\VC98\bin
		\end{verbatim}
\end{itemize}


\textbf{Compilation:}
\begin{enumerate}
\item Unpack the HTK sources using 7-zip.
\item Open a DOS command window: Click Start, select Run type cmd at the prompt and click OK.
\item cd into the directory in which you unpacked the sources.
\item cd into the htk directory. Type:
\begin{verbatim}
      cd htk
\end{verbatim}
\end{enumerate}

   5. Create a directory for the library and tools. Type:

\begin{verbatim}
      mkdir bin.win32
\end{verbatim}

   6. Run VCVARS32 (it should be in your path, see prerequisites above)
   7. Build the HTK Library, which provides the common functionality
      used by the HTK Tools. Enter the following commands:

\begin{verbatim}
          cd HTKLib
          nmake /f htk_htklib_nt.mkf all
          cd ..
\end{verbatim}

   8. Build the HTK Tools
\begin{verbatim}
          cd HTKTools
          nmake /f htk_htktools_nt.mkf all
          cd ..
          cd HLMLib
          nmake /f htk_hlmlib_nt.mkf all
          cd ..
          cd HLMTools
          nmake /f htk_hlmtools_nt.mkf all
          cd ..
\end{verbatim}

\textbf{Installation:}\\
The HTK tools have now been built and are in the bin.win32
directory. You should add this directory to your PATH, so that you can
run them easily from the command line in future.

\chapter{Training and Testing Corpus Acquisition}
\prologue{Everyone has the right to life, liberty and security of person.}
{United Nations' Declaration of Human Rights \cite{UNDHR}}
\section{The Nature of Our Data}
\section{The Online Speech/Corpora Archive and Analysis Resource}
Northwestern University's Online Speech/Corpora Archive and Analysis Resource (\href{https://oscaar.ci.northwestern.edu/}{OSCAAR}) is a collection of speech recordings from speakers with different backgrounds, assembled from various datasets.

To request access to the data available through OSCAAR, you can \href{https://oscaar.ci.northwestern.edu/requests.php}{submit a request for access} to the OSCAAR collections. In our experience, requests are handled within 24-48 hours after being sent.

The dataset that we found most appropriate for our goal of accent detection and classification is the \href{http://groups.linguistics.northwestern.edu/speech_comm_group/allsstar/}{ALLSTAR} dataset from the Speech and Communication Research Group at Northwestern University. The dataset is massive, and we found that a subset of samples fit our needs well.

Part of the dataset features recording of talkers from different backgrounds saying 20 sentences pulled from the Declaration of Human Rights in English. For our proof of concept, we used a subset of that portion of speakers reading Article 3 from the DHR: "Everyone has the right to life liberty and security of person." That subset of the data featured 
talkers with the following native tongues:
\begin{myitemize}
\item Brazilian Portuguese
\item English
\item French
\item German
\item Hebrew
\item Hindi
\item Japanese
\item Korean
\item Mandarin Chinese
\item Persian (Farsi)
\item Russian
\item Spanish
\item Turkish
\item Vietnamese
\end{myitemize}

\chapter{Training Corpus with HTK}

\prologue{The sheer volumne of answers can often stifle insight...The purpose
of computing\index{computing!the purpose} is insight, not numbers.}
{Hamming \cite{hamming}}


\section{Record or Input Sound Files}
Here is some text.


\section{Labeling the Sound Files}
Here are some things you can do for a special
section head.

\section{General Remarks}
Here is some normal text.
Here is some normal text.
Here is some normal text.



\chapter{Coding the Data}

\section{Mel Frequency Cepstral Coefficients}
Here we describe what a MFCC is and its usefulness to us.

\section{Obtaining .mfcc Files}

\subsection{Configuration File}
Screenshot of the configuration file along with justification of the various parameters

\subsubsection{The Creation of targetlist.txt}

\section{Command Line Actions}

\chapter{Setting Parameters for the Hidden Markov Model}
Multiple things should happen here:
\begin{enumerate}
\item Explain what an HMM is and what it is useful for
\item Explain particularly why it works for what we are doing
\item Describe the input parameters to a hidden markov model
\item Explain why we made any changes to what the original tutorial had/any issues we encountered (i.e. errors being raised when we tried to have too many states due to not having enough training examples for all those states)
\end{enumerate}

I have some sample sections below following the list above:

\section{What is a Hidden Markov Model?}
Here is some sample text.

\section{HMMs and Accent Detection}
Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum

\section{Input Parameters to HMMs} 
Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum Lorem ipsum

\section{Justification for our Modifications}

\section{Command Line Actions}


\chapter{Defining the Grammar of Your Network}
\section{What does that even mean}
\section{Define your Grammar}
\section{Define your Dictionary}
\section{Generating the Network}
\section{Command Line Actions}

\chapter{Testing with New Samples}
Corresponds to the Recognition chapter (Moreau ch. 7)
\section{Command Line Actions}

\part{Data Visualization}
% If we decide to go crazy

\part{Error Handling and General Tips}

\appendix{Error Handling}
\markboth{A short guide to understanding and handling errors}{A short guide to understanding and handling errors}
Errors that crop up when using HTK can seem confusing initially, but they can be debugged with a bit of critical thinking and some hints from outside sources. We found the following sources helpful when debugging:
\begin{itemize}
\item \href{http://www.ling.ohio-state.edu/~bromberg/htk_problems.html}{Ohio State University: Understanding HTK Error Messages}
\item \href{http://www.ee.columbia.edu/~dpwe/LabROSA/doc/HTKBook21/node256.html}{Columbia University: Summary of Errors by Tool and Module}
\end{itemize}

During our time with the HTK software, we experienced a subset of the error codes that we could experience. If you encounter theses error codes yourself, there is no guarantee that our error resolutions will also work for you, but hopefully they will help with debugging seeing 


\appendix{Software Used}
Just list all software used and why we used it
\begin{enumerate}
\item Audacity: Useful for processing audio files. Used to splice .wav files to extract specific words from .wav files.
\item HTK: Maybe even list each of the things we used under HTK \& why, i.e. HLab for labeling, HParse for whatever
\item was there anything else?
\end{enumerate}


\appendix{References}
% Just contains a sample reference for HMMs on Wikipedia. 
\begin{references}{3.}
\bibitem{link_used_elsewhere}Random People,
\href{http://en.wikipedia.org/wiki/Hidden_Markov_model}{``Hidden Markov Model,''}(2014).

% Vesha note for self: fix these
\bibitem{link_used_elsewhere}Random People,
\href{http://www.labunix.uqam.ca/~boukadoum_m/DIC9315/Notes/Markov/HTK_basic_tutorial.pdf}{`HTK Basic Tutorial'}(2014).

\bibitem{link_used_elsewhere}Random People,
\href{http://www.voxforge.org/home/dev/acousticmodels/linux/create/htkjulius/tutorial/data-prep/step-5}{`HCopy Config File'}(2014).

                 
\bibitem{UNDHR}UN General Assembly,
		{\it Universal Declaration of Human Rights}, 10 December 1948, 217 A (III), available at: http://www.refworld.org/docid/3ae6b3712c.html 

\end{references}


\printindex


\end{document}

